<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<link rel="alternate" type="application/rss+xml" href="/site/blog/rss.xml" title="HugoCodeStar Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/site/blog/atom.xml" title="HugoCodeStar Blog Atom Feed"><title data-react-helmet="true">Proc√©dures ETL - Fichiers de donn√©es externe avec pandas - Principe des SGBD | HugoCodeStar</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://HugoCodeStar.github.io//site/docs/inf5111/Cours/cours5"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Proc√©dures ETL - Fichiers de donn√©es externe avec pandas - Principe des SGBD | HugoCodeStar"><meta data-react-helmet="true" name="description" content="ETL - Extract, Transform, Load"><meta data-react-helmet="true" property="og:description" content="ETL - Extract, Transform, Load"><link data-react-helmet="true" rel="shortcut icon" href="/site/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://HugoCodeStar.github.io//site/docs/inf5111/Cours/cours5"><link data-react-helmet="true" rel="alternate" href="https://HugoCodeStar.github.io//site/docs/inf5111/Cours/cours5" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://HugoCodeStar.github.io//site/docs/inf5111/Cours/cours5" hreflang="x-default"><link rel="stylesheet" href="/site/assets/css/styles.93dd335d.css">
<link rel="preload" href="/site/assets/js/runtime~main.dc77e9d2.js" as="script">
<link rel="preload" href="/site/assets/js/main.7b865e3c.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/site/"><img src="/site/img/logo.svg" alt="Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/site/img/logo.svg" alt="Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">HugoCodeStar</b></a><a class="navbar__item navbar__link" href="/site/docs/inf1035">INF1035</a><a class="navbar__item navbar__link" href="/site/docs/inf1256">INF1256</a><a class="navbar__item navbar__link" href="/site/docs/g25">G25</a><a class="navbar__item navbar__link" href="/site/docs/inf135">INF135</a><a class="navbar__item navbar__link" href="/site/docs/db4">DB4</a><a class="navbar__item navbar__link" href="/site/docs/b07">B07</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/site/docs/inf5111">INF5111</a></div><div class="navbar__items navbar__items--right"><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">üåú</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">üåû</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Atelier</a></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Cours</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/site/docs/inf5111/Cours/cours1">1 - Intro</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/site/docs/inf5111/Cours/cours2">2 - Intro programmation</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/site/docs/inf5111/Cours/cours3">3 - Intro BD</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/site/docs/inf5111/Cours/cours4">4 - Jointures &amp; pandas</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/site/docs/inf5111/Cours/cours5">5 - ETL, source externe et SGBD</a></li></ul></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/site/docs/inf5111">Intro</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Proc√©dures ETL - Fichiers de donn√©es externe avec pandas - Principe des SGBD</h1></header><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="etl---extract-transform-load"></a>ETL - Extract, Transform, Load<a class="hash-link" href="#etl---extract-transform-load" title="Direct link to heading">#</a></h2><p>Dans le monde de la science des donn√©es, la majorit√© des travaux demande d&#x27;utiliser le processus ETL. Les √©tapes sont les suivantes :</p><ul><li>Extract - Extraction (lecture des donn√©es de la source originale)</li><li>Transform - Transformer (modifier) les donn√©es pour filtrer/ajouter des informations ou en assurer la qualit√© </li><li>Load - Charger (sauvegarder) les donn√©es dans une destination (possiblement la source originale)</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="sources-de-donn√©es-externes-pour-pandas"></a>Sources de donn√©es externes pour pandas<a class="hash-link" href="#sources-de-donn√©es-externes-pour-pandas" title="Direct link to heading">#</a></h2><p>Nous avons √©tudi√© comment pandas travaille avec des DataFrame comme structure de donn√©es. Pour faciliter la cr√©ation de ce genre de base de donn√©es, il est possible d&#x27;extraire les donn√©es de sources externes √† pandas.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="format-des-fichiers-pour-des-donn√©es-externes"></a>Format des fichiers pour des donn√©es externes<a class="hash-link" href="#format-des-fichiers-pour-des-donn√©es-externes" title="Direct link to heading">#</a></h3><p>Pandas est capable de lire d&#x27;une base de donn√©e SQL (nous verrons plus loin comment). Pandas est aussi capable d&#x27;extraire des DataFrame de plusieurs autres types de fichiers. Nous regarderons premi√®rement le format de chacun de ses fichiers.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="fichier-csv---comma-separated-values"></a>Fichier CSV - Comma-separated values<a class="hash-link" href="#fichier-csv---comma-separated-values" title="Direct link to heading">#</a></h3><ul><li>Le CSV est un fichier texte qui d√©limite ses informations comme un tableur.</li><li>Chaque ligne de texte est une entr√©e.</li><li>Chaque ligne contient des &quot;colonne&quot; qui sont s√©par√©es par des virgules.</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">Name,Email,Phone Number,Address</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Bob Smith,bob@example.com,123-456-7890,123 Fake Street</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Mike Jones,mike@example.com,098-765-4321,321 Fake Avenue</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="json---javascript-object-notation"></a>JSON - JavaScript Object Notation<a class="hash-link" href="#json---javascript-object-notation" title="Direct link to heading">#</a></h3><ul><li>Repr√©sente un dictionnaire sous forme de texte.</li><li><a href="https://www.json.org/" target="_blank" rel="noopener noreferrer">https://www.json.org/</a></li><li>Un document qui permet de formater des collections en fichier texte pour transmission facile.</li><li>N&#x27;a pas de lien fort avec JavaScript (malgr√© son nom).</li><li>Permets de facilement imbriquer des informations.</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="exemple-json"></a>Exemple JSON<a class="hash-link" href="#exemple-json" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly json"><pre tabindex="0" class="prism-code language-json codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;firstName&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;John&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;lastName&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Smith&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;isAlive&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;age&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">27</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;address&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;streetAddress&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;21 2nd Street&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;city&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;New York&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;state&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;NY&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;postalCode&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;10021-3100&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;phoneNumbers&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;212 555-1234&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;646 555-4567&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;children&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;spouse&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token null keyword" style="font-style:italic">null</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="fichier-excel"></a>Fichier Excel<a class="hash-link" href="#fichier-excel" title="Direct link to heading">#</a></h3><p>Excel est un tableur qui permet d&#x27;avoir des informations dans des feuilles de calculs qui sont ensuite s√©par√©es par des cellules identifi√©es par une ligne et une colonne.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="fichier-sqlite"></a>Fichier SQLite<a class="hash-link" href="#fichier-sqlite" title="Direct link to heading">#</a></h3><ul><li><a href="https://sqlite.org/index.html" target="_blank" rel="noopener noreferrer">SQLite</a> est une impl√©mentation d&#x27;une base de donn√©es SQL √† l&#x27;int√©rieur d&#x27;un fichier.</li><li>Cette impl√©mentation est une version extr√™mement simplifi√©e de ce que nous donne une SGBD mais permet de facilement transmettre de l&#x27;information sous forme de tables.</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="types-des-colonnes"></a>Types des colonnes<a class="hash-link" href="#types-des-colonnes" title="Direct link to heading">#</a></h4><ul><li>NULL - Valeur nulle.</li><li>INTEGER - Entier sign√©.</li><li>REAL - Valeur flottante.</li><li>TEXT - Texte.</li><li>BLOB - Donn√©e ind√©finie.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="requ√™tes-web-vers-des-api-rest"></a>Requ√™tes web vers des API REST<a class="hash-link" href="#requ√™tes-web-vers-des-api-rest" title="Direct link to heading">#</a></h3><ul><li>Une m√©thode courante d&#x27;acquisition de donn√©es est l&#x27;utilisation d&#x27;API (Application Programming Interface) de type REST.</li><li>Cette m√©thode permet de faire une requ√™te √† un site web avec des param√®tres donn√©s et de recevoir une r√©ponse en JSON.</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="librairie-requests"></a>Librairie requests<a class="hash-link" href="#librairie-requests" title="Direct link to heading">#</a></h4><ul><li>Pour faire des requ√™tes WEB avec python, la librairie <a href="https://docs.python-requests.org/en/master/" target="_blank" rel="noopener noreferrer">request</a> est utilis√©e.</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly python"><pre tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># import requests module</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> requests</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Making a get request</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">response </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> requests</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">get</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;https://api.github.com&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># print response</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">print</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">response</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># print json content</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">print</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">response</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">json</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="les-requ√™tes-web-et-les-r√®gles-du-rest"></a>Les requ√™tes web et les r√®gles du REST<a class="hash-link" href="#les-requ√™tes-web-et-les-r√®gles-du-rest" title="Direct link to heading">#</a></h4><ul><li>Le principe des requ√™tes REST est d&#x27;avoir les param√®tres dans l&#x27;URL qui est utilis√©e pour faire la requ√™te.</li><li>Le chemin de l&#x27;application permet de recevoir seulement l&#x27;information voulue.</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="exemple-avec-jsonplaceholder"></a>Exemple avec JSONPlaceholder<a class="hash-link" href="#exemple-avec-jsonplaceholder" title="Direct link to heading">#</a></h4><ul><li><a href="https://jsonplaceholder.typicode.com/" target="_blank" rel="noopener noreferrer">JSONPlaceholder</a> est un site simple avec un API REST qui peut √™tre utilis√© pour tester nos requ√™tes.</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="routes"></a>Routes<a class="hash-link" href="#routes" title="Direct link to heading">#</a></h4><ul><li>Les diff√©rents chemins sont nomm√©s routes et ceux-ci font partie d&#x27;une arborescence.</li><li>Par exemple, JSONPlaceholder √† les routes suivantes :<ul><li><code>/posts</code> vers tous les articles sauvegard√©s</li><li><code>/posts/1</code> le nombre 1 permet de s√©lectionner un article en particulier</li><li><code>/posts/1/comments</code> la continuation de la route avec <code>comments</code> permet d&#x27;aller chercher les commentaires de l&#x27;article sp√©cifi√©.</li></ul></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="extraction-de-donn√©es-avec-pandas"></a>Extraction de donn√©es avec pandas<a class="hash-link" href="#extraction-de-donn√©es-avec-pandas" title="Direct link to heading">#</a></h3><p><a href="https://pandas.pydata.org/docs/user_guide/io.html#io" target="_blank" rel="noopener noreferrer">R√©f√©rence</a></p><p>Les fonctions suivantes sont disponibles pour lecture/√©criture de fichiers externe :</p><ul><li>CSV - <code>read_csv</code> / <code>to_csv</code></li><li>JSON - <code>read_json</code> / <code>to_json</code></li><li>Excel - <code>read_excel</code> / <code>to_excel</code></li><li>SQL - <code>read_sql</code> / <code>to_sql</code></li></ul><p>Chaque fonction √† ses propres options pour configurer les situations particuli√®res entourant le type de fichiers. L&#x27;utilisation habituelle ressemble √† :</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly python"><pre tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Extraction du DataFrame</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">df </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> read_csv</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;fichier.csv&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Transformation des donn√©es ou analyse</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">results </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> df</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">describe</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Chargement des donn√©es transform√©</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">results</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">to_csv</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;new_fichier.csv&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="connexion-√†-des-bases-de-donn√©es-sql--sqlite"></a>Connexion √† des bases de donn√©es SQL / SQLite<a class="hash-link" href="#connexion-√†-des-bases-de-donn√©es-sql--sqlite" title="Direct link to heading">#</a></h4><p>Les connexions de pandas √† des bases de donn√©es se font par l&#x27;interm√©diaire de <code>SQLAlchemy</code>, une librairie de Python pour la connexion √† des BD SQL. Il faut donc √©tablir un engin de connexion qui sera utilis√© par la fonction de lecture/√©criture.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly python"><pre tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> sqlalchemy </span><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> create_engine</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># SQLite peut exister dans la m√©moire avec :memory: ou on peut lire un fichier existant</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">engine </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> create_engine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;sqlite:///SQLiteBD.db&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">df </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> pd</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">read_sql_table</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;TableName&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> engine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Il est aussi possible de recevoir le r√©sultat d&#x27;une requ√™te sp√©cifique</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">df2 </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> pd</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">read_sql</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;select * from TableName where param &gt; 0&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> engine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>L&#x27;engin de connexion doit avoir l&#x27;URL de la base de donn√©es. Vous pouvez avoir la liste des <a href="https://docs.sqlalchemy.org/en/14/core/engines.html#database-urls" target="_blank" rel="noopener noreferrer">connexions disponible ici</a>.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly python"><pre tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Exemple de connection avec une base de donn√©e postgres</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">engine1 </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> create_engine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;postgresql://username:password@server/databasename&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="principes-des-sgbd"></a>Principes des SGBD<a class="hash-link" href="#principes-des-sgbd" title="Direct link to heading">#</a></h2><p>Le SGBD apporte plusieurs √©l√©ments qui n&#x27;√©taient pas possibles dans la sauvegarde de donn√©es.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="int√©grit√©-s√©mantique"></a>Int√©grit√© s√©mantique<a class="hash-link" href="#int√©grit√©-s√©mantique" title="Direct link to heading">#</a></h3><p>Une contrainte d&#x27;int√©grit√© s√©mantique (semantic integrity constraint)
ou simplement contrainte d&#x27;int√©grit√© est une r√®gle qui doit toujours √™tre respect√©e par les donn√©es de la BD. Par exemple, &quot;Le solde d&#x27;un compte ne peut √™tre n√©gatif&quot;</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="contr√¥le-de-concurrence"></a>Contr√¥le de concurrence<a class="hash-link" href="#contr√¥le-de-concurrence" title="Direct link to heading">#</a></h3><p>Emp√™cher les effets ind√©sirables de transactions concurrentes. Par exemple, deux connexions qui retirent d&#x27;un m√™me compte pourrait avoir un impact sur le solde si trait√© sans consid√©ration sp√©ciale.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="fiabilit√©"></a>Fiabilit√©<a class="hash-link" href="#fiabilit√©" title="Direct link to heading">#</a></h3><p>Assurer que les donn√©es ne deviennent pas corrompues suite √† une panne ou √™tre capable de revenir d&#x27;un √©tat incoh√©rent.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="s√©curit√©"></a>S√©curit√©<a class="hash-link" href="#s√©curit√©" title="Direct link to heading">#</a></h3><p>Utilisateurs/r√¥les pour d√©limiter les droits disponibles. Chiffrement (encryption) des donn√©es.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="gestion-de-transactions"></a>Gestion de transactions<a class="hash-link" href="#gestion-de-transactions" title="Direct link to heading">#</a></h3><p>Pr√©senter les op√©rations comme √©tant √† l&#x27;int√©rieur d&#x27;une transaction qui permet d&#x27;assurer les propri√©t√©s ACID.</p><ul><li>Atomicit√© - Que la transaction est accomplie au complet ou pas du tout.</li><li>Consistance - Que la transaction se termine avec la base de donn√©es dans un √©tat valide.</li><li>Isolation - Que la transaction soit isol√©e entre d&#x27;autres transactions qui travaillent sur les m√™mes donn√©es pour faire le contr√¥le de concurrence.</li><li>Durabilit√© - Que la transaction soit assur√©e d&#x27;√™tre gard√©e si elle a √©t√© compl√©t√©e, m√™me en cas de panne subs√©quente.</li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/HugoCodeStar/site/edit/master/docs/inf5111/Cours/cours5.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_13-_"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/site/docs/inf5111/Cours/cours4"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">¬´ 4 - Jointures &amp; pandas</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/site/docs/inf5111"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Intro ¬ª</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#etl---extract-transform-load" class="table-of-contents__link">ETL - Extract, Transform, Load</a></li><li><a href="#sources-de-donn√©es-externes-pour-pandas" class="table-of-contents__link">Sources de donn√©es externes pour pandas</a><ul><li><a href="#format-des-fichiers-pour-des-donn√©es-externes" class="table-of-contents__link">Format des fichiers pour des donn√©es externes</a></li><li><a href="#fichier-csv---comma-separated-values" class="table-of-contents__link">Fichier CSV - Comma-separated values</a></li><li><a href="#json---javascript-object-notation" class="table-of-contents__link">JSON - JavaScript Object Notation</a></li><li><a href="#fichier-excel" class="table-of-contents__link">Fichier Excel</a></li><li><a href="#fichier-sqlite" class="table-of-contents__link">Fichier SQLite</a></li><li><a href="#requ√™tes-web-vers-des-api-rest" class="table-of-contents__link">Requ√™tes web vers des API REST</a></li><li><a href="#extraction-de-donn√©es-avec-pandas" class="table-of-contents__link">Extraction de donn√©es avec pandas</a></li></ul></li><li><a href="#principes-des-sgbd" class="table-of-contents__link">Principes des SGBD</a><ul><li><a href="#int√©grit√©-s√©mantique" class="table-of-contents__link">Int√©grit√© s√©mantique</a></li><li><a href="#contr√¥le-de-concurrence" class="table-of-contents__link">Contr√¥le de concurrence</a></li><li><a href="#fiabilit√©" class="table-of-contents__link">Fiabilit√©</a></li><li><a href="#s√©curit√©" class="table-of-contents__link">S√©curit√©</a></li><li><a href="#gestion-de-transactions" class="table-of-contents__link">Gestion de transactions</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Cours</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/site/docs/inf1035">INF1035</a></li><li class="footer__item"><a class="footer__link-item" href="/site/docs/inf1256">INF1256</a></li><li class="footer__item"><a class="footer__link-item" href="/site/docs/g25">G25</a></li><li class="footer__item"><a class="footer__link-item" href="/site/docs/inf135">INF135</a></li><li class="footer__item"><a class="footer__link-item" href="/site/docs/B07">B07</a></li><li class="footer__item"><a class="footer__link-item" href="/site/docs/inf5111">INF5111</a></li></ul></div><div class="col footer__col"><div class="footer__title">Communaut√©</div><ul class="footer__items"><li class="footer__item"><a href="https://mattermost.info.uqam.ca/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Mattermost UQAM<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright ¬© 2022 Hugo Leblanc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/site/assets/js/runtime~main.dc77e9d2.js"></script>
<script src="/site/assets/js/main.7b865e3c.js"></script>
</body>
</html>