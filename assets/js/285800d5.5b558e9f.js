"use strict";(self.webpackChunkhugo_code_star_site=self.webpackChunkhugo_code_star_site||[]).push([[727],{1691:(e,n,t)=>{t.r(n),t.d(n,{contentTitle:()=>l,default:()=>p,frontMatter:()=>r,metadata:()=>s,toc:()=>o});var a=t(8168),i=(t(6540),t(5680));const r={title:"Sets, dictionnaires et format de fichiers de donn\xe9es",sidebar_label:"7 - Set, dictionnaire, csv et JSON",sidebar_position:7},l=void 0,s={unversionedId:"inf1035/Cours/cours7",id:"inf1035/Cours/cours7",isDocsHomePage:!1,title:"Sets, dictionnaires et format de fichiers de donn\xe9es",description:"Set",source:"@site/docs/inf1035/Cours/cours7.md",sourceDirName:"inf1035/Cours",slug:"/inf1035/Cours/cours7",permalink:"/site/docs/inf1035/Cours/cours7",editUrl:"https://github.com/HugoCodeStar/site/edit/master/docs/inf1035/Cours/cours7.md",tags:[],version:"current",sidebarPosition:7,frontMatter:{title:"Sets, dictionnaires et format de fichiers de donn\xe9es",sidebar_label:"7 - Set, dictionnaire, csv et JSON",sidebar_position:7},sidebar:"INF1035Sidebar",previous:{title:"6 - String et pandas",permalink:"/site/docs/inf1035/Cours/cours6"},next:{title:"8 - Liste, Test & IDE",permalink:"/site/docs/inf1035/Cours/cours8"}},o=[{value:"Set",id:"set",children:[]},{value:"Cr\xe9ation d&#39;un set",id:"cr\xe9ation-dun-set",children:[]},{value:"Acc\xe8s au set",id:"acc\xe8s-au-set",children:[]},{value:"Soustraction au set",id:"soustraction-au-set",children:[]},{value:"Trouv\xe9 de \xe9l\xe9ments dans un set",id:"trouv\xe9-de-\xe9l\xe9ments-dans-un-set",children:[]},{value:"Op\xe9ration sur les sets",id:"op\xe9ration-sur-les-sets",children:[]},{value:"Dictionnaire",id:"dictionnaire",children:[]},{value:"Acc\xe8s au dictionnaire",id:"acc\xe8s-au-dictionnaire",children:[]},{value:"Modification d&#39;un dictionnaire",id:"modification-dun-dictionnaire",children:[]},{value:"Les m\xe9thodes des dictionnaires",id:"les-m\xe9thodes-des-dictionnaires",children:[]},{value:"Les formats des fichiers de donn\xe9es",id:"les-formats-des-fichiers-de-donn\xe9es",children:[]},{value:"CSV - Comma-separated values",id:"csv---comma-separated-values",children:[]},{value:"Module csv",id:"module-csv",children:[]},{value:"JSON - JavaScript Object Notation",id:"json---javascript-object-notation",children:[]},{value:"Module json",id:"module-json",children:[]},{value:"Exemple JSON",id:"exemple-json",children:[]},{value:"Module json",id:"module-json-1",children:[]},{value:"Fichier Excel",id:"fichier-excel",children:[]},{value:"Fichier SQLite",id:"fichier-sqlite",children:[{value:"Types des colonnes",id:"types-des-colonnes",children:[]}]},{value:"Requ\xeates web vers des API REST",id:"requ\xeates-web-vers-des-api-rest",children:[]},{value:"Extraction de donn\xe9es avec pandas",id:"extraction-de-donn\xe9es-avec-pandas",children:[]},{value:"Date et temps",id:"date-et-temps",children:[{value:"Les modules <code>datetime</code> et <code>dateutil</code>",id:"les-modules-datetime-et-dateutil",children:[]},{value:"Numpy et <code>datetime64</code>",id:"numpy-et-datetime64",children:[]},{value:"Connexion \xe0 des bases de donn\xe9es SQL / SQLite",id:"connexion-\xe0-des-bases-de-donn\xe9es-sql--sqlite",children:[]}]}],u={toc:o},d="wrapper";function p(e){let{components:n,...t}=e;return(0,i.yg)(d,(0,a.A)({},u,t,{components:n,mdxType:"MDXLayout"}),(0,i.yg)("h2",{id:"set"},"Set"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Un ",(0,i.yg)("inlineCode",{parentName:"li"},"set")," est une collection, semblable \xe0 une liste, mais avec la distinction que tous les \xe9l\xe9ments doivent \xeatre unique."),(0,i.yg)("li",{parentName:"ul"},"L'ordre des \xe9l\xe9ments est aussi laiss\xe9 \xe0 l'impl\xe9mentation. Il n'existe pas d'indice pouvant identifier l'emplacement de l'\xe9l\xe9ment dans la collection.")),(0,i.yg)("h2",{id:"cr\xe9ation-dun-set"},"Cr\xe9ation d'un set"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Le set peut \xeatre cr\xe9\xe9 vide avec un constructeur ",(0,i.yg)("inlineCode",{parentName:"li"},"set()")," ou \xe0 partir d'une autre collection existante.")),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-python"},"mon_set = set()\nautre_set = set([4, 65, 34, 3, 4]) # Le 4 s'y retrouvera qu'une fois.\nencore_set = set('allo') # Le 'l' ne sera pas en 2 copies.\ndernier_set = set(['un', 'deux', 'trois']) # Contient chaque mot.\n")),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Il est aussi possible d'utiliser les accolades pour construire un ",(0,i.yg)("inlineCode",{parentName:"li"},"set"),".")),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-python"},"curly_set = {'allo', 'salut', 'allo', 'bonjour'}\nprint(curly_set) # Affiche {'salut', 'allo', 'bonjour'}\n")),(0,i.yg)("h2",{id:"acc\xe8s-au-set"},"Acc\xe8s au set"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"La taille du set peut \xeatre connue avec ",(0,i.yg)("inlineCode",{parentName:"li"},"len"),"."),(0,i.yg)("li",{parentName:"ul"},"On ajoute un \xe9l\xe9ment avec la m\xe9thode ",(0,i.yg)("inlineCode",{parentName:"li"},"add"),"."),(0,i.yg)("li",{parentName:"ul"},"On ajoute plusieurs \xe9l\xe9ments avec la m\xe9thode ",(0,i.yg)("inlineCode",{parentName:"li"},"update"),".")),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-python"},"mon_set = set()\nmon_set.add(3)\nmon_set.add(4)\nmon_set.update([4, 5, 6])\n\nprint(len(mon_set)) # Affiche 4\n")),(0,i.yg)("h2",{id:"soustraction-au-set"},"Soustraction au set"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Les m\xe9thodes ",(0,i.yg)("inlineCode",{parentName:"li"},"remove")," et ",(0,i.yg)("inlineCode",{parentName:"li"},"discard")," enl\xe8vent des \xe9l\xe9ments du set."),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"remove")," soul\xe8ve un ",(0,i.yg)("inlineCode",{parentName:"li"},"KeyError")," si l'\xe9l\xe9ment n'est pas trouv\xe9."),(0,i.yg)("li",{parentName:"ul"},"La m\xe9thode ",(0,i.yg)("inlineCode",{parentName:"li"},"clear")," permet de vider le set.")),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-python"},"mon_set = set([4, 5, 6, 7])\nmon_set.remove(4)\n\nmon_set.remove(10) # KeyError\nmon_set.discard(10)\n")),(0,i.yg)("h2",{id:"trouv\xe9-de-\xe9l\xe9ments-dans-un-set"},"Trouv\xe9 de \xe9l\xe9ments dans un set"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"L'op\xe9rateur ",(0,i.yg)("inlineCode",{parentName:"li"},"in")," et ",(0,i.yg)("inlineCode",{parentName:"li"},"not in")," permet de faire la d\xe9tection d'un \xe9l\xe9ment dans un set.")),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-python"},'mon_set = set([1, 2, 3])\n\nif 2 in mon_set:\n    print("Trouv\xe9!")\n')),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"La boucle ",(0,i.yg)("inlineCode",{parentName:"li"},"for")," peut it\xe9rer sur un set. L'ordre des \xe9l\xe9ments ne peut pas \xeatre connu d'avance.")),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-python"},"curly_set = {'allo', 'salut', 'allo', 'bonjour'}\n\nfor item in curly_set:\n  print(item)\n")),(0,i.yg)("h2",{id:"op\xe9ration-sur-les-sets"},"Op\xe9ration sur les sets"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"On trouve l'union de deux sets avec la m\xe9thode ",(0,i.yg)("inlineCode",{parentName:"li"},"union"),"."),(0,i.yg)("li",{parentName:"ul"},"On trouve l'intersection de deux sets avec la m\xe9thode ",(0,i.yg)("inlineCode",{parentName:"li"},"intersection"),"."),(0,i.yg)("li",{parentName:"ul"},"On trouve la diff\xe9rence de deux sets avec la m\xe9thode ",(0,i.yg)("inlineCode",{parentName:"li"},"difference"),"."),(0,i.yg)("li",{parentName:"ul"},"On trouve la diff\xe9rence sym\xe9trique (ceux exclusifs \xe0 chaque set) avec la m\xe9thode ",(0,i.yg)("inlineCode",{parentName:"li"},"symmetric_difference"),".")),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-python"},"set1 = set([1, 2, 3])\nset2 = set([3, 4, 5])\nset3 = set1.union(set2)\n\nprint(len(set3)) # Affiche 5\n")),(0,i.yg)("h2",{id:"dictionnaire"},"Dictionnaire"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Le dictionnaire est une autre collection."),(0,i.yg)("li",{parentName:"ul"},"Chaque \xe9l\xe9ment contient deux parties : une cl\xe9 et une valeur (key-value pair)."),(0,i.yg)("li",{parentName:"ul"},"La cl\xe9 est utilis\xe9e pour rep\xe9rer l'\xe9l\xe9ment dans la collection."),(0,i.yg)("li",{parentName:"ul"},"Les cl\xe9s sont uniques."),(0,i.yg)("li",{parentName:"ul"},"Le dictionnaire repr\xe9sente ses key-value avec un ",(0,i.yg)("inlineCode",{parentName:"li"},":")," entre chacun et les inclus dans des accollades ",(0,i.yg)("inlineCode",{parentName:"li"},"{}"),".")),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-python"},"telephone = {'Marie':'444-1111', 'Bob':'444-2222', 'Alice':'444-3333'}\n")),(0,i.yg)("h2",{id:"acc\xe8s-au-dictionnaire"},"Acc\xe8s au dictionnaire"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Les \xe9l\xe9ments du dictionnaire sont acc\xe9der avec les cl\xe9s entre crochets (comme une liste)."),(0,i.yg)("li",{parentName:"ul"},"Comme les set, les op\xe9rateurs ",(0,i.yg)("inlineCode",{parentName:"li"},"in")," et ",(0,i.yg)("inlineCode",{parentName:"li"},"not in")," permettent de d\xe9terminer si une cl\xe9 existe."),(0,i.yg)("li",{parentName:"ul"},"La fonction ",(0,i.yg)("inlineCode",{parentName:"li"},"len")," permet de d\xe9terminer le nombre d'\xe9l\xe9ments")),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-python"},"telephone = {'Marie':'444-1111', 'Bob':'444-2222', 'Alice':'444-3333'}\nif 'Bob' in telephone:\n    print(telephone['Bob']) # Affiche '444-2222'\n\nprint(len(telephone)) # Affiche 4\n")),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"La boucle ",(0,i.yg)("inlineCode",{parentName:"li"},"for")," permet d'avoir les ",(0,i.yg)("inlineCode",{parentName:"li"},"key")," du dictionnaire")),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-python"},"telephone = {'Marie':'444-1111', 'Bob':'444-2222', 'Alice':'444-3333'}\n\nfor item in telephone:\n  print(item) # Affiche en ordre Marie, Bob, Alice\n  print(telephone[item]) # Affiche les num\xe9ro 444-1111, 444-2222, 444-3333\n")),(0,i.yg)("h2",{id:"modification-dun-dictionnaire"},"Modification d'un dictionnaire"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"On ajoute dans un dictionnaire avec l'assignation d'une nouvelle cl\xe9."),(0,i.yg)("li",{parentName:"ul"},"On d\xe9truit un \xe9l\xe9ment avec le mot cl\xe9 ",(0,i.yg)("inlineCode",{parentName:"li"},"del"),".")),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-python"},"telephone = {'Marie':'444-1111', 'Bob':'444-2222', 'Alice':'444-3333'}\ntelehphone['Corinne'] = '444-1111' # M\xeame valeur que Marie et c'est ok\n\ndel telephone['Bob']\n")),(0,i.yg)("h2",{id:"les-m\xe9thodes-des-dictionnaires"},"Les m\xe9thodes des dictionnaires"),(0,i.yg)("table",null,(0,i.yg)("thead",{parentName:"table"},(0,i.yg)("tr",{parentName:"thead"},(0,i.yg)("th",{parentName:"tr",align:null},"Nom"),(0,i.yg)("th",{parentName:"tr",align:null},"Description"))),(0,i.yg)("tbody",{parentName:"table"},(0,i.yg)("tr",{parentName:"tbody"},(0,i.yg)("td",{parentName:"tr",align:null},"clear()"),(0,i.yg)("td",{parentName:"tr",align:null},"Vide le dictionnaire.")),(0,i.yg)("tr",{parentName:"tbody"},(0,i.yg)("td",{parentName:"tr",align:null},"get(key)"),(0,i.yg)("td",{parentName:"tr",align:null},"Retourne la valeur associ\xe9e avec la cl\xe9. Ne g\xe9n\xe8re pas d'erreur.")),(0,i.yg)("tr",{parentName:"tbody"},(0,i.yg)("td",{parentName:"tr",align:null},"items()"),(0,i.yg)("td",{parentName:"tr",align:null},"Renvoie une s\xe9quence de tuple de (key, value)")),(0,i.yg)("tr",{parentName:"tbody"},(0,i.yg)("td",{parentName:"tr",align:null},"keys()"),(0,i.yg)("td",{parentName:"tr",align:null},"Retourne toutes les cl\xe9s.")),(0,i.yg)("tr",{parentName:"tbody"},(0,i.yg)("td",{parentName:"tr",align:null},"pop(key)"),(0,i.yg)("td",{parentName:"tr",align:null},"Retourne la valeur associ\xe9e avec la cl\xe9. Enl\xe8ve l'\xe9l\xe9ment du dictionnaire.")),(0,i.yg)("tr",{parentName:"tbody"},(0,i.yg)("td",{parentName:"tr",align:null},"popitem()"),(0,i.yg)("td",{parentName:"tr",align:null},"Retourne un tuple (key, value) al\xe9atoire et l'enl\xe8ve du dictionnaire.")),(0,i.yg)("tr",{parentName:"tbody"},(0,i.yg)("td",{parentName:"tr",align:null},"values()"),(0,i.yg)("td",{parentName:"tr",align:null},"Retourne les valeurs des \xe9l\xe9ments.")))),(0,i.yg)("h2",{id:"les-formats-des-fichiers-de-donn\xe9es"},"Les formats des fichiers de donn\xe9es"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("p",{parentName:"li"},"Dans le domaine des sciences, deux fichiers de donn\xe9es sont populaires:"),(0,i.yg)("ul",{parentName:"li"},(0,i.yg)("li",{parentName:"ul"},"CSV - Comma-separated values"),(0,i.yg)("li",{parentName:"ul"},"JSON - JavaScript Object Notation"))),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("p",{parentName:"li"},"Python nous fournit des modules pour travailler avec ses deux types de fichiers."))),(0,i.yg)("h2",{id:"csv---comma-separated-values"},"CSV - Comma-separated values"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Le CSV est un fichier texte qui d\xe9limite ses informations comme un tableur."),(0,i.yg)("li",{parentName:"ul"},"Chaque ligne de texte est une entr\xe9e."),(0,i.yg)("li",{parentName:"ul"},'Chaque ligne contient des "colonne" qui sont s\xe9par\xe9s par des virgules.')),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre"},"Name,Email,Phone Number,Address\nBob Smith,bob@example.com,123-456-7890,123 Fake Street\nMike Jones,mike@example.com,098-765-4321,321 Fake Avenue\n")),(0,i.yg)("h2",{id:"module-csv"},"Module csv"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Le module csv contient la fonctionnalit\xe9 qui permet de lire un fichier csv et le convertir en collection de Python.")),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-python"},"import csv\n\n# Avec reader on convertie en liste\nwith open('address.csv', newline='') as csvfile:\n    reader = csv.reader(csvfile)\n    for row in reader:\n        print(row)\n\n# Avec DictReader on convetie en dictionnaire\nwith open('address.csv', newline='') as csvfile:\n    reader = csv.DictReader(csvfile)\n    for row in reader:\n        print(row)\n")),(0,i.yg)("h2",{id:"json---javascript-object-notation"},"JSON - JavaScript Object Notation"),(0,i.yg)("h2",{id:"module-json"},"Module json"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("a",{parentName:"li",href:"https://www.json.org/"},"https://www.json.org/")),(0,i.yg)("li",{parentName:"ul"},"Un document qui permet de formater des collections en fichier texte pour transmission facile."),(0,i.yg)("li",{parentName:"ul"},"N'a pas de lien fort avec JavaScript (malgr\xe9 son nom)."),(0,i.yg)("li",{parentName:"ul"},"Permets de facilement imbriquer des informations.")),(0,i.yg)("h2",{id:"exemple-json"},"Exemple JSON"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-json"},'{\n  "firstName": "John",\n  "lastName": "Smith",\n  "isAlive": true,\n  "age": 27,\n  "address": {\n    "streetAddress": "21 2nd Street",\n    "city": "New York",\n    "state": "NY",\n    "postalCode": "10021-3100"\n  },\n  "phoneNumbers": ["212 555-1234" ,"646 555-4567"],\n  "children": [],\n  "spouse": null\n}\n')),(0,i.yg)("h2",{id:"module-json-1"},"Module json"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Le module json nous permet de lire un fichier ou une chaine json et la convertie en objet Python."),(0,i.yg)("li",{parentName:"ul"},"La fonction ",(0,i.yg)("inlineCode",{parentName:"li"},"load")," permet de convertir un fichier ouvert."),(0,i.yg)("li",{parentName:"ul"},"La fonction ",(0,i.yg)("inlineCode",{parentName:"li"},"loads")," permet de convertir une chaine de caract\xe8re d\xe9crivant un objet JSON.")),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-python"},'with open(\'iris.json\', newline=\'\') as jsonfile:\n    reader = json.load(jsonfile)\n    for row in reader:\n        print(row)\n\n# json.loads permet de parcourir une chaine\ninfo = json.loads(\'{"name":"mkyong.com","messages":["msg 1","msg 2","msg 3"],"age":100}\')\nprint(info)\n')),(0,i.yg)("h2",{id:"fichier-excel"},"Fichier Excel"),(0,i.yg)("p",null,"Excel est un tableur qui permet d'avoir des informations dans des feuilles de calculs qui sont ensuite s\xe9par\xe9es par des cellules identifi\xe9es par une ligne et une colonne."),(0,i.yg)("h2",{id:"fichier-sqlite"},"Fichier SQLite"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("a",{parentName:"li",href:"https://sqlite.org/index.html"},"SQLite")," est une impl\xe9mentation d'une base de donn\xe9es SQL \xe0 l'int\xe9rieur d'un fichier."),(0,i.yg)("li",{parentName:"ul"},"Cette impl\xe9mentation est une version extr\xeamement simplifi\xe9e de ce que nous donne une SGBD mais permet de facilement transmettre de l'information sous forme de tables.")),(0,i.yg)("h3",{id:"types-des-colonnes"},"Types des colonnes"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"NULL - Valeur nulle."),(0,i.yg)("li",{parentName:"ul"},"INTEGER - Entier sign\xe9."),(0,i.yg)("li",{parentName:"ul"},"REAL - Valeur flottante."),(0,i.yg)("li",{parentName:"ul"},"TEXT - Texte."),(0,i.yg)("li",{parentName:"ul"},"BLOB - Donn\xe9e ind\xe9finie.")),(0,i.yg)("h2",{id:"requ\xeates-web-vers-des-api-rest"},"Requ\xeates web vers des API REST"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Une m\xe9thode courante d'acquisition de donn\xe9es est l'utilisation d'API (Application Programming Interface) de type REST."),(0,i.yg)("li",{parentName:"ul"},"Cette m\xe9thode permet de faire une requ\xeate \xe0 un site web avec des param\xe8tres donn\xe9s et de recevoir une r\xe9ponse en JSON.")),(0,i.yg)("h4",{id:"librairie-requests"},"Librairie requests"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Pour faire des requ\xeates WEB avec python, la librairie ",(0,i.yg)("a",{parentName:"li",href:"https://docs.python-requests.org/en/master/"},"request")," est utilis\xe9e.")),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-python"},"# import requests module\nimport requests\n  \n# Making a get request\nresponse = requests.get('https://api.github.com')\n  \n# print response\nprint(response)\n  \n# print json content\nprint(response.json())\n")),(0,i.yg)("h4",{id:"les-requ\xeates-web-et-les-r\xe8gles-du-rest"},"Les requ\xeates web et les r\xe8gles du REST"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Le principe des requ\xeates REST est d'avoir les param\xe8tres dans l'URL qui est utilis\xe9e pour faire la requ\xeate."),(0,i.yg)("li",{parentName:"ul"},"Le chemin de l'application permet de recevoir seulement l'information voulue.")),(0,i.yg)("h4",{id:"exemple-avec-jsonplaceholder"},"Exemple avec JSONPlaceholder"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("a",{parentName:"li",href:"https://jsonplaceholder.typicode.com/"},"JSONPlaceholder")," est un site simple avec un API REST qui peut \xeatre utilis\xe9 pour tester nos requ\xeates.")),(0,i.yg)("h4",{id:"routes"},"Routes"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Les diff\xe9rents chemins sont nomm\xe9s routes et ceux-ci font partie d'une arborescence."),(0,i.yg)("li",{parentName:"ul"},"Par exemple, JSONPlaceholder \xe0 les routes suivantes :",(0,i.yg)("ul",{parentName:"li"},(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"/posts")," vers tous les articles sauvegard\xe9s"),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"/posts/1")," le nombre 1 permet de s\xe9lectionner un article en particulier"),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"/posts/1/comments")," la continuation de la route avec ",(0,i.yg)("inlineCode",{parentName:"li"},"comments")," permet d'aller chercher les commentaires de l'article sp\xe9cifi\xe9.")))),(0,i.yg)("h2",{id:"extraction-de-donn\xe9es-avec-pandas"},"Extraction de donn\xe9es avec pandas"),(0,i.yg)("p",null,(0,i.yg)("a",{parentName:"p",href:"https://pandas.pydata.org/docs/user_guide/io.html#io"},"R\xe9f\xe9rence")),(0,i.yg)("p",null,"Les fonctions suivantes sont disponibles pour lecture/\xe9criture de fichiers externe :"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"CSV - ",(0,i.yg)("inlineCode",{parentName:"li"},"read_csv")," / ",(0,i.yg)("inlineCode",{parentName:"li"},"to_csv")),(0,i.yg)("li",{parentName:"ul"},"JSON - ",(0,i.yg)("inlineCode",{parentName:"li"},"read_json")," / ",(0,i.yg)("inlineCode",{parentName:"li"},"to_json")),(0,i.yg)("li",{parentName:"ul"},"Excel - ",(0,i.yg)("inlineCode",{parentName:"li"},"read_excel")," / ",(0,i.yg)("inlineCode",{parentName:"li"},"to_excel")),(0,i.yg)("li",{parentName:"ul"},"SQL - ",(0,i.yg)("inlineCode",{parentName:"li"},"read_sql")," / ",(0,i.yg)("inlineCode",{parentName:"li"},"to_sql"))),(0,i.yg)("p",null,"Chaque fonction \xe0 ses propres options pour configurer les situations particuli\xe8res entourant le type de fichiers. L'utilisation habituelle ressemble \xe0 :"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-python"},"# Extraction du DataFrame\ndf = read_csv('fichier.csv')\n\n# Transformation des donn\xe9es ou analyse\nresults = df.describe()\n\n# Chargement des donn\xe9es transform\xe9\nresults.to_csv('new_fichier.csv')\n")),(0,i.yg)("h2",{id:"date-et-temps"},"Date et temps"),(0,i.yg)("p",null,"Les donn\xe9es de date et d'heure se pr\xe9sentent sous plusieurs formes, dont nous discuterons ici\xa0:"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Les ",(0,i.yg)("em",{parentName:"li"},"timestamps")," font r\xe9f\xe9rence \xe0 des moments particuliers dans le temps (par exemple, le 4 juillet 2015 \xe0 7h00)."),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("em",{parentName:"li"},"Intervalles de temps")," (time intervals) et ",(0,i.yg)("em",{parentName:"li"},"p\xe9riodes")," (periods) font r\xe9f\xe9rence \xe0 une dur\xe9e entre un d\xe9but et une fin particuliers\xa0; par exemple, l'ann\xe9e 2015. Les p\xe9riodes font g\xe9n\xe9ralement r\xe9f\xe9rence \xe0 un cas particulier d'intervalles de temps dans lesquels chaque intervalle est de longueur uniforme et ne se chevauche pas (par exemple, des p\xe9riodes de 24 heures comprenant des jours)."),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("em",{parentName:"li"},"Delta de temps")," (timedelta) ou ",(0,i.yg)("em",{parentName:"li"},"dur\xe9es")," font r\xe9f\xe9rence \xe0 une dur\xe9e exacte (par exemple, une dur\xe9e de 22,56 secondes).")),(0,i.yg)("h3",{id:"les-modules-datetime-et-dateutil"},"Les modules ",(0,i.yg)("inlineCode",{parentName:"h3"},"datetime")," et ",(0,i.yg)("inlineCode",{parentName:"h3"},"dateutil")),(0,i.yg)("p",null,"Les modules ",(0,i.yg)("inlineCode",{parentName:"p"},"datetime")," et ",(0,i.yg)("inlineCode",{parentName:"p"},"dateutil")," permettent de cr\xe9\xe9 des objets repr\xe9sentant les temps et date mentionn\xe9e plus haut."),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-python"},"from datetime import datetime\nsimpledate = datetime(year=2015, month=7, day=4)\n")),(0,i.yg)("p",null,(0,i.yg)("a",{parentName:"p",href:"https://docs.python.org/3/library/datetime.html"},"Documentation de ",(0,i.yg)("inlineCode",{parentName:"a"},"datetime"))),(0,i.yg)("p",null,"Le ",(0,i.yg)("inlineCode",{parentName:"p"},"dateutil")," contient des utilitaires pour facilit\xe9 l'utilisation de date."),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-python"},'from dateutil import parser\nsimpledate = parser.parse("4th of July, 2015")\n')),(0,i.yg)("p",null,(0,i.yg)("a",{parentName:"p",href:"https://dateutil.readthedocs.io/en/stable/"},"Documentation de ",(0,i.yg)("inlineCode",{parentName:"a"},"dateutil"))),(0,i.yg)("p",null,"Les datetime sont int\xe9ressants pour une repr\xe9sentation facile des dates, mais \xe7a ne fonctionne pas facilement pour une liste ou un range."),(0,i.yg)("h3",{id:"numpy-et-datetime64"},"Numpy et ",(0,i.yg)("inlineCode",{parentName:"h3"},"datetime64")),(0,i.yg)("p",null,"Pour pallier \xe0 la situation, NumPy \xe0 incorporer le type ",(0,i.yg)("inlineCode",{parentName:"p"},"datetime64")," pour pouvoir mieux manier les dates pour repr\xe9sentation en index ou comme liste. Il est donc possible de faire une date et de le travailler comme un tableau."),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-python"},"import numpy as np\ndate = np.array('2015-07-04', dtype=np.datetime64)\ndisplay(date) # array(datetime.date(2015, 7, 4), dtype='datetime64[D]')\n\ndisplay(date + np.arange(12))\n# array(['2015-07-04', '2015-07-05', '2015-07-06', '2015-07-07',\n#       '2015-07-08', '2015-07-09', '2015-07-10', '2015-07-11',\n#       '2015-07-12', '2015-07-13', '2015-07-14', '2015-07-15'], dtype='datetime64[D]')\n")),(0,i.yg)("p",null,"Les ",(0,i.yg)("inlineCode",{parentName:"p"},"datetimes64")," sont aussi capable de parsing par d\xe9faut."),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-python"},"np.datetime64('2015-07-04')\n")),(0,i.yg)("h3",{id:"connexion-\xe0-des-bases-de-donn\xe9es-sql--sqlite"},"Connexion \xe0 des bases de donn\xe9es SQL / SQLite"),(0,i.yg)("p",null,"Les connexions de pandas \xe0 des bases de donn\xe9es se font par l'interm\xe9diaire de ",(0,i.yg)("inlineCode",{parentName:"p"},"SQLAlchemy"),", une librairie de Python pour la connexion \xe0 des BD SQL. Il faut donc \xe9tablir un engin de connexion qui sera utilis\xe9 par la fonction de lecture/\xe9criture."),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-python"},"from sqlalchemy import create_engine, text\n\n# SQLite peut exister dans la m\xe9moire avec :memory: ou on peut lire un fichier existant\nengine = create_engine(\"sqlite:///SQLiteBD.db\")\n\ndf = pd.read_sql_table('TableName', engine)\n\n# Il est aussi possible de recevoir le r\xe9sultat d'une requ\xeate sp\xe9cifique\ndf2 = pd.read_sql(text('select * from TableName where param > 0'), engine)\n")),(0,i.yg)("p",null,"L'engin de connexion doit avoir l'URL de la base de donn\xe9es. Vous pouvez avoir la liste des ",(0,i.yg)("a",{parentName:"p",href:"https://docs.sqlalchemy.org/en/14/core/engines.html#database-urls"},"connexions disponible ici"),"."),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-python"},"# Exemple de connection avec une base de donn\xe9e postgres\nengine1 = create_engine('postgresql://username:password@server/databasename')\nconn = engine1.connect()\ndf = pd.read_sql_table('TableName', conn)\n")))}p.isMDXComponent=!0},5680:(e,n,t)=>{t.d(n,{xA:()=>d,yg:()=>g});var a=t(6540);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,a,i=function(e,n){if(null==e)return{};var t,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var o=a.createContext({}),u=function(e){var n=a.useContext(o),t=n;return e&&(t="function"==typeof e?e(n):l(l({},n),e)),t},d=function(e){var n=u(e.components);return a.createElement(o.Provider,{value:n},e.children)},p="mdxType",c={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},m=a.forwardRef((function(e,n){var t=e.components,i=e.mdxType,r=e.originalType,o=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),p=u(t),m=i,g=p["".concat(o,".").concat(m)]||p[m]||c[m]||r;return t?a.createElement(g,l(l({ref:n},d),{},{components:t})):a.createElement(g,l({ref:n},d))}));function g(e,n){var t=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var r=t.length,l=new Array(r);l[0]=m;var s={};for(var o in n)hasOwnProperty.call(n,o)&&(s[o]=n[o]);s.originalType=e,s[p]="string"==typeof e?e:i,l[1]=s;for(var u=2;u<r;u++)l[u]=t[u];return a.createElement.apply(null,l)}return a.createElement.apply(null,t)}m.displayName="MDXCreateElement"}}]);